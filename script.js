const dailyData = [
  { date: "2015-09-07", count: 14 },
  { date: "2015-09-11", count: 4 },
  { date: "2015-09-23", count: 6 },
  { date: "2015-10-26", count: 5 },
  { date: "2016-03-28", count: 6 },
  { date: "2016-05-16", count: 10 },
  { date: "2017-09-04", count: 85 },
  { date: "2017-10-04", count: 4 },
  { date: "2017-10-13", count: 2 },
  { date: "2017-10-21", count: 8 },
  { date: "2017-12-17", count: 25 },
  { date: "2018-02-04", count: 15 },
  { date: "2018-03-09", count: 15 },
  { date: "2018-03-31", count: 12 },
  { date: "2018-05-14", count: 25 },
  { date: "2018-05-15", count: 39 },
  { date: "2018-06-16", count: 24 },
  { date: "2018-06-17", count: 24 },
  { date: "2018-06-18", count: 2 },
  { date: "2018-07-03", count: 24 },
  { date: "2018-07-09", count: 4 },
  { date: "2018-08-20", count: 48 },
  { date: "2018-08-25", count: 26 },
  { date: "2018-08-26", count: 27 },
  { date: "2018-09-01", count: 2 },
  { date: "2018-09-09", count: 48 },
  { date: "2018-09-10", count: 48 },
  { date: "2018-09-16", count: 1 },
  { date: "2018-10-07", count: 1 },
  { date: "2018-10-08", count: 1 },
  { date: "2018-10-15", count: 2 },
  { date: "2018-10-31", count: 40 },
  { date: "2018-11-02", count: 22 },
  { date: "2019-02-16", count: 1 },
  { date: "2019-03-19", count: 18 },
  { date: "2019-08-29", count: 67 },
  { date: "2019-10-07", count: 51 },
  { date: "2019-10-08", count: 472 },
  { date: "2019-11-09", count: 9 },
  { date: "2019-10-10", count: 111 },
  { date: "2019-11-16", count: 23 },
  { date: "2019-11-18", count: 21 },
  { date: "2019-11-23", count: 757 },
  { date: "2019-11-25", count: 109 },
  { date: "2019-11-27", count: 128 },
  { date: "2020-01-17", count: 5 },
  { date: "2020-01-20", count: 34 },
  { date: "2020-01-21", count: 53 },
  { date: "2020-01-22", count: 72 },
  { date: "2020-01-23", count: 52 },
  { date: "2020-01-24", count: 41 },
  { date: "2020-08-26", count: 9 },
  { date: "2020-01-28", count: 20 },
  { date: "2020-01-29", count: 21 },
  { date: "2020-02-02", count: 24 },
  { date: "2020-02-03", count: 27 },
  { date: "2020-02-04", count: 34 },
  { date: "2020-02-05", count: 67 },
  { date: "2020-02-06", count: 21 },
  { date: "2020-02-12", count: 10 },
  { date: "2020-02-13", count: 22 },
  { date: "2020-02-14", count: 47 },
  { date: "2020-02-15", count: 1 },
  { date: "2020-02-19", count: 3 },
  { date: "2020-02-20", count: 95 },
  { date: "2020-02-21", count: 24 },
  { date: "2020-02-24", count: 69 },
  { date: "2020-02-26", count: 1 },
  { date: "2020-02-27", count: 39 },
  { date: "2020-02-28", count: 48 },
  { date: "2020-03-02", count: 24 },
  { date: "2020-03-03", count: 24 },
  { date: "2020-03-27", count: 74 },
  { date: "2020-03-28", count: 221 },
  { date: "2020-03-30", count: 219 },
  { date: "2020-03-31", count: 198 },
  { date: "2020-04-02", count: 22 },
  { date: "2020-04-03", count: 24 },
  { date: "2020-04-04", count: 181 },
  { date: "2020-04-06", count: 8 },
  { date: "2020-04-07", count: 54 },
  { date: "2020-04-08", count: 13 },
  { date: "2020-04-15", count: 11 },
  { date: "2020-04-16", count: 2 },
  { date: "2020-04-17", count: 1 },
  { date: "2020-04-23", count: 1 },
  { date: "2020-05-15", count: 6 },
  { date: "2020-05-19", count: 28 },
  { date: "2020-05-20", count: 14 },
  { date: "2020-05-21", count: 5 },
  { date: "2020-05-22", count: 24 },
  { date: "2020-05-23", count: 24 },
  { date: "2020-05-27", count: 7 },
  { date: "2020-06-10", count: 21 },
  { date: "2020-06-11", count: 12 },
  { date: "2020-06-12", count: 48 },
  { date: "2020-06-16", count: 58 },
  { date: "2020-06-17", count: 6 },
  { date: "2020-06-18", count: 25 },
  { date: "2020-06-19", count: 38 },
  { date: "2020-07-01", count: 72 },
  { date: "2020-07-02", count: 48 },
  { date: "2020-07-08", count: 46 },
  { date: "2020-07-09", count: 36 },
  { date: "2020-07-14", count: 11 },
  { date: "2020-07-15", count: 50 },
  { date: "2020-07-17", count: 14 },
  { date: "2020-07-22", count: 4 },
  { date: "2020-08-21", count: 20 },
  { date: "2020-08-22", count: 48 },
  { date: "2020-08-24", count: 96 },
  { date: "2020-09-18", count: 1 },
  { date: "2020-10-14", count: 35 },
  { date: "2020-10-15", count: 48 },
  { date: "2020-10-18", count: 11 },
  { date: "2020-10-21", count: 32 },
  { date: "2020-10-28", count: 11 },
];
const monthlyData = [
  { date: "2014-04", count: 10 },
  { date: "2014-05", count: 28 },
  { date: "2014-06", count: 20 },
  { date: "2014-07", count: 10 },
  { date: "2014-08", count: 3 },
  { date: "2015-09", count: 24 },
  { date: "2015-10", count: 5 },
  { date: "2016-03", count: 6 },
  { date: "2016-05", count: 10 },
  { date: "2016-07", count: 2 },
  { date: "2017-01", count: 93 },
  { date: "2017-02", count: 54 },
  { date: "2017-03", count: 172 },
  { date: "2017-04", count: 88 },
  { date: "2017-05", count: 129 },
  { date: "2017-06", count: 64 },
  { date: "2017-07", count: 81 },
  { date: "2017-08", count: 45 },
  { date: "2017-09", count: 89 },
  { date: "2017-10", count: 14 },
  { date: "2017-12", count: 25 },
  { date: "2018-01", count: 8 },
  { date: "2018-02", count: 15 },
  { date: "2018-03", count: 27 },
  { date: "2018-04", count: 13 },
  { date: "2018-05", count: 64 },
  { date: "2018-06", count: 50 },
  { date: "2018-07", count: 36 },
  { date: "2018-08", count: 105 },
  { date: "2018-09", count: 99 },
  { date: "2018-10", count: 46 },
  { date: "2018-11", count: 34 },
  { date: "2018-12", count: 2 },
  { date: "2019-02", count: 1 },
  { date: "2019-03", count: 18 },
  { date: "2019-05", count: 62 },
  { date: "2019-06", count: 8 },
  { date: "2019-08", count: 331 },
  { date: "2019-09", count: 425 },
  { date: "2019-10", count: 634 },
  { date: "2019-11", count: 1047 },
  { date: "2020-01", count: 298 },
  { date: "2020-02", count: 656 },
  { date: "2020-03", count: 1616 },
  { date: "2020-04", count: 367 },
  { date: "2020-05", count: 497 },
  { date: "2020-06", count: 208 },
  { date: "2020-07", count: 281 },
  { date: "2020-08", count: 177 },
  { date: "2020-09", count: 109 },
  { date: "2020-10", count: 160 },
  { date: "2020-11", count: 265 },
  { date: "2020-12", count: 274 },
  { date: "2021-01", count: 546 },
  { date: "2021-02", count: 819 },
  { date: "2021-03", count: 194 },
  { date: "2021-04", count: 416 },
  { date: "2021-05", count: 225 },
  { date: "2021-06", count: 379 },
  { date: "2021-07", count: 109 },
  { date: "2021-08", count: 421 },
  { date: "2021-09", count: 206 },
  { date: "2021-10", count: 697 },
  { date: "2021-11", count: 50 },
  { date: "2021-12", count: 666 },
  { date: "2022-01", count: 383 },
  { date: "2022-02", count: 71 },
  { date: "2022-03", count: 201 },
  { date: "2022-04", count: 175 },
  { date: "2022-05", count: 95 },
  { date: "2022-06", count: 73 },
  { date: "2022-07", count: 19 },
  { date: "2022-08", count: 12 },
  { date: "2022-09", count: 185 },
  { date: "2022-10", count: 81 },
  { date: "2022-11", count: 122 },
  { date: "2022-12", count: 127 },
  { date: "2023-01", count: 138 },
  { date: "2023-02", count: 47 },
  { date: "2023-03", count: 178 },
  { date: "2023-04", count: 567 },
  { date: "2023-05", count: 191 },
  { date: "2023-06", count: 67 },
  { date: "2023-07", count: 2020 },
  { date: "2023-08", count: 390 },
  { date: "2023-09", count: 519 },
  { date: "2023-10", count: 189 },
  { date: "2023-11", count: 236 },
  { date: "2023-12", count: 299 },
  { date: "2024-01", count: 624 },
  { date: "2024-02", count: 510 },
  { date: "2024-03", count: 542 },
  { date: "2024-04", count: 625 },
  { date: "2024-05", count: 331 },
  { date: "2024-06", count: 205 },
  { date: "2024-07", count: 1452 },
];
const yearlyData = [
  { date: "2014", count: 71 },
  { date: "2015", count: 29 },
  { date: "2016", count: 18 },
  { date: "2017", count: 854 },
  { date: "2018", count: 499 },
  { date: "2019", count: 2526 },
  { date: "2020", count: 4908 },
  { date: "2021", count: 4728 },
  { date: "2022", count: 1544 },
  { date: "2023", count: 4841 },
  { date: "2024", count: 4289 },
];

function transformData(data) {
  return {
    labels: data.map((item) => item.date),
    datasets: [
      {
        label: "Number of Assets",
        data: data.map((item) => item.count),
        borderColor: "rgba(75, 192, 192, 1)",
        backgroundColor: "rgba(75, 192, 192, 0.2)",
        fill: true,
        tension: 0.1,
      },
    ],
  };
}

// Initial chart setup
const ctx = document.getElementById("lineChart").getContext("2d");
let lineChart = new Chart(ctx, {
  type: "line",
  data: transformData(dailyData),
  options: {
    responsive: true,
    scales: {
      x: {
        title: {
          display: true,
          text: "Date",
        },
      },
      y: {
        title: {
          display: true,
          text: "Count",
        },
        beginAtZero: true,
      },
    },
  },
});

// Function to update chart data
function updateChart(view) {
  let data;
  if (view === "daily") {
    data = dailyData;
  } else if (view === "monthly") {
    data = monthlyData;
  } else if (view === "yearly") {
    data = yearlyData;
  }

  lineChart.data = transformData(data);
  lineChart.update();
}
